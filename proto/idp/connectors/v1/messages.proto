// DOMAIN: Identity Provider - External Connectors Messages
// COMPLIANCE: SOC 2 CC6.1, GDPR Article 5, ISO 27001 A.9.2
// SECURITY: Authentication required, tenant isolation enforced
// PII: May contain user identifiers from external systems

syntax = "proto3";

package geniustechspace.idp.connectors.v1;

import "buf/validate/validate.proto";

option csharp_namespace = "GeniusTechSpace.Protobuf.Idp.Connectors.V1";
option go_package = "github.com/geniustechspace/protobuf/gen/go/idp/connectors/v1;idpconnectorsv1";
option java_multiple_files = true;
option java_package = "com.geniustechspace.protobuf.idp.connectors.v1";

// ConnectorType represents external identity provider type.
enum ConnectorType {
  CONNECTOR_TYPE_UNSPECIFIED = 0;
  LDAP = 1; // LDAP/Active Directory
  SAML = 2; // SAML 2.0
  OAUTH = 3; // OAuth 2.0
  OIDC = 4; // OpenID Connect
  SOCIAL = 5; // Social login (Google, GitHub, etc.)
  reserved 6 to 20;
}

// Connector represents external identity provider connection.
message Connector {
  // Connector ID. REQUIRED.
  string id = 1 [(buf.validate.field).string.min_len = 1];

  // Tenant ID. REQUIRED.
  string tenant_id = 2 [(buf.validate.field).string.min_len = 1];

  // Name. REQUIRED.
  string name = 3 [(buf.validate.field).string.min_len = 1];

  // Type. REQUIRED.
  ConnectorType type = 4 [(buf.validate.field).enum.defined_only = true];

  // Enabled. REQUIRED.
  bool enabled = 5;

  // Configuration. OPTIONAL.
  // Connector-specific configuration (JSON).
  map<string, string> configuration = 6;
}
