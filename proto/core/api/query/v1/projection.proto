// Core API Query - Projection Module
//
// Field selection and transformation.

syntax = "proto3";

package geniustechspace.core.api.query.v1;

import "buf/validate/validate.proto";

option go_package = "github.com/geniustechspace/protobuf/gen/go/core/api/query/v1;queryv1";
option java_multiple_files = true;
option java_package = "com.geniustechspace.protobuf.core.api.query.v1";

// ProjectionMode defines how fields are selected.
enum ProjectionMode {
  PROJECTION_MODE_UNSPECIFIED = 0;
  INCLUDE = 1; // Include only specified fields
  EXCLUDE = 2; // Exclude specified fields
}

// Projection defines which fields to return.
message Projection {
  // Projection mode
  ProjectionMode mode = 1;

  // Field paths to include/exclude
  repeated string fields = 2 [(buf.validate.field).repeated.max_items = 100];

  // Include nested relations
  map<string, Projection> relations = 3 [(buf.validate.field).map.max_pairs = 20];
}
