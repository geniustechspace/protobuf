// Copyright 2024 GeniusTechSpace
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// UserStatus Enum Definition
//
// This file defines the UserStatus enumeration for tracking user account states.
// It provides a fixed set of states that a user account can be in, supporting
// proper access control and account lifecycle management.
//
// COMPLIANCE:
// - SOC 2 CC6.1: Logical access controls - account status tracking
// - SOC 2 CC6.2: Access termination - suspended and inactive states
// - ISO 27001 A.9.2.6: Removal or adjustment of access rights
// - NIST 800-53 AC-2: Account Management
//
// SECURITY:
// - Status determines whether user can authenticate
// - SUSPENDED status requires admin review before reactivation
// - INACTIVE status triggers after period of inactivity
// - PENDING_VERIFICATION enforces email verification requirement
//
// AUDIT:
// - All status changes must be logged with reason and actor
// - Status changes trigger UserStatusChangedEvent for audit trail

syntax = "proto3";

package users.v1;

option csharp_namespace = "GeniusTechSpace.Protobuf.Users.V1";
option go_package = "github.com/geniustechspace/protobuf/gen/go/users/v1;usersv1";
option java_multiple_files = true;
option java_package = "com.geniustechspace.protobuf.users.v1";

// UserStatus represents the current state of a user account.
//
// This enum defines all possible states in the user account lifecycle,
// from initial creation through active use to account suspension or
// deactivation. The status directly impacts authentication and authorization.
//
// COMPLIANCE NOTES:
// - SOC 2 CC6.1: Status enforces logical access controls
// - SOC 2 CC6.2: SUSPENDED/INACTIVE support proper access termination
// - ISO 27001 A.9.2: Status changes follow access management procedures
//
// STATE TRANSITIONS:
// - UNSPECIFIED -> PENDING_VERIFICATION (on account creation)
// - PENDING_VERIFICATION -> ACTIVE (on email verification)
// - ACTIVE <-> SUSPENDED (admin action with reason)
// - ACTIVE -> INACTIVE (after inactivity period)
// - INACTIVE -> ACTIVE (on user login)
// - Any status -> SUSPENDED (security incident)
//
// SECURITY IMPLICATIONS:
// - ACTIVE: Full access granted (subject to roles/permissions)
// - PENDING_VERIFICATION: Limited access, email verification required
// - INACTIVE: Authentication allowed, prompts reactivation
// - SUSPENDED: Authentication blocked, admin review required
// - UNSPECIFIED: Should never be used in production (validation error)
enum UserStatus {
  // Default/unknown status - should never be used in production.
  // VALIDATION: Field validation ensures this is never set.
  // PURPOSE: Protobuf enum zero value requirement.
  USER_STATUS_UNSPECIFIED = 0;

  // User account is active and fully operational.
  // AUTHENTICATION: Allowed
  // AUTHORIZATION: Based on assigned roles and permissions
  // COMPLIANCE: Standard operational state per SOC 2 CC6.1
  // TRANSITIONS FROM: PENDING_VERIFICATION, INACTIVE, SUSPENDED (with approval)
  USER_STATUS_ACTIVE = 1;

  // User account is inactive due to prolonged period of non-use.
  // AUTHENTICATION: Allowed with reactivation prompt
  // AUTHORIZATION: Limited until reactivation confirmed
  // COMPLIANCE: SOC 2 CC6.2 - Inactive account identification
  // TRIGGER: Automatic after 90 days of inactivity (configurable)
  // TRANSITIONS FROM: ACTIVE
  USER_STATUS_INACTIVE = 2;

  // User account is suspended due to security concerns or policy violation.
  // AUTHENTICATION: Blocked
  // AUTHORIZATION: None
  // COMPLIANCE: SOC 2 CC6.2 - Access termination/suspension
  // REASON REQUIRED: Must document suspension reason for audit
  // REVIEW REQUIRED: Admin approval needed for reactivation
  // TRANSITIONS FROM: Any status
  USER_STATUS_SUSPENDED = 3;

  // User account is pending email verification.
  // AUTHENTICATION: Allowed with limited functionality
  // AUTHORIZATION: Restricted - verification required for full access
  // COMPLIANCE: SOC 2 CC6.1 - Identity verification requirement
  // SECURITY: Prevents unauthorized account usage before email confirmation
  // TRANSITIONS FROM: UNSPECIFIED (initial account creation)
  USER_STATUS_PENDING_VERIFICATION = 4;
}
